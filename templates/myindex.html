{% extends 'base.html' %}
{% load staticfiles %}
{% load i18n %}
{% load staticfiles %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-6 text-left">
                <div class="row">
                    <h3 class="text-left">项目总揽</h3>
                    <hr>
                    <div class="col-md-2">
                        <p class="text-center">所有项目</p>
                        <p class="text-center">{{ total }}</p>
                        <p class="text-center"><a href="{% url 'project:myprojects' %}">查看所有</a></p>
                      
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <div style="height:300px;width:50%;">
                            <canvas id="chartjs-pie-chart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8 text-left"> 
                        <h4 class="text-left">panda,您好!</h4>
                    </div>
                 
                    <div class="col-md-2 text-left"> 
                        <h4 class="text-left">2019.12.3</h4>
                    </div>
                    <div class="col-md-2 text-left"> 
                        
                    </div>
                   
                </div>
                 <hr>
               
            
                <p class="text-left">今天剩余工作统计:</p>
                <div class="row  col-md-10">

                    <table class="table table-striped">

                        <thead>
                        <tr>
                            <th>我的项目</th>
                            <th>我的BUG</th>
                            <th>项目邀请</th>
                            <th>逾期项目</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{prototal}}</td>
                                <td>{{bugtotal}}</td>
                                <td>{{ivitedpro}}</td>
                                <td>{{expirtedpro}}</td>
                        </tbody>
                    </table>
                </div>
            </div>
             
            <div class="col-md-6 text-left">
                <div class="row">
                    <div class="col-md-6 text-left">
                        <h3> MyToDo</h3>
                    </div>
                    <div class="col-md-6">
                        <h3> 添加备注</h3>
                    </div>
                </div>
                <div class="row">
                    <table class="table table-striped">

                        <thead>
                        <tr>
                            <th>时间</th>
                            <th>难度</th>
                            <th>标题</th>
                            <th>去标记</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>11</td>
                                <td>22</td>
                                <td>33</td>
                                <td>44</td>
                        </tbody>
                    </table>

                </div>
                  <hr>
            </div>

        </div>
      

        
       
   </div>     
   
   <script src="{% static 'js/Chart.min.js' %}"></script>

    <script>
     
        window.chartColors = {
            red: 'rgb(255, 99, 132)',
            orange: 'rgb(255, 159, 64)',
            yellow: 'rgb(255, 205, 86)',
            green: 'rgb(75, 192, 192)', 
            purple: 'rgb(153, 102, 255)',
            grey: 'rgb(201, 203, 207)'
        };

        window.randomScalingFactor = function () {
            return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
        };

         
      

        var pieConfig = {
            type: 'pie',
            data: {
                datasets: [{
                    data: [
                        {{a}}, {{b}}, {{c}}, {{d}}
                    ],
                    backgroundColor: [
                        window.chartColors.gray,
                        window.chartColors.orange,
                        window.chartColors.green,
                        window.chartColors.red,
                    ],
                    label: 'Dataset 1'
                }],
                labels: [
                    "未开始",
                    "进行中",
                    "已完成",
                    "已逾期",
                 
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                title: {
                    display: true,
                    text: '项目完成分布'
                }
            }
        };
          
        var pieCtx = document.getElementById("chartjs-pie-chart").getContext("2d");
        window.myPie = new Chart(pieCtx, pieConfig);
         
    </script>
{% endblock %}










 

 
